<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Reprodutor Aleat√≥rio com Fundo e Frases</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background-color: black;
      font-family: 'Segoe UI', sans-serif;
    }

    /* Plano de fundo animado */
    #background {
      position: fixed;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      pointer-events: none;
      opacity: 0;
      animation: colorCycle 15s infinite;
      transition: opacity 1s ease-in-out;
      z-index: 0;
    }

    @keyframes colorCycle {
      0%   { background-color: #ff6b6b; }
      25%  { background-color: #feca57; }
      50%  { background-color: #1dd1a1; }
      75%  { background-color: #54a0ff; }
      100% { background-color: #ff6b6b; }
    }

    /* Bot√£o de controle */
    #controls {
      position: absolute;
      transition: all 1s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 10;
    }

    .center {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .top-left {
      top: 20px;
      left: 20px;
      transform: none;
    }

    button {
      padding: 15px 30px;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      background-color: #ffffffcc;
      cursor: pointer;
      transition: background-color 0.3s, opacity 1s;
    }

    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }

    /* Informa√ß√µes da m√∫sica */
    #info {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 16px;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      z-index: 5;
    }

    /* Frases din√¢micas */
    .phrase {
      position: absolute;
      color: white;
      font-size: 22px;
      font-weight: bold;
      opacity: 0;
      animation: fadeInOut 5s ease-in-out;
      pointer-events: none;
      z-index: 2;
      text-shadow: 2px 2px 8px #000;
    }

    @keyframes fadeInOut {
      0%   { opacity: 0; transform: scale(0.8); }
      20%  { opacity: 1; transform: scale(1); }
      80%  { opacity: 1; }
      100% { opacity: 0; transform: scale(1.2); }
    }
  </style>
</head>
<body>

  <!-- Fundo animado -->
  <div id="background"></div>
  <h1>Soares teste</h1>

  <!-- Bot√£o de controle -->
  <div id="controls" class="center">
    <button id="playButton">üéµ Tocar M√∫sica Aleat√≥ria</button>
  </div>
  <div class="container">
    <h1>Contagem Regressiva para o Anivers√°rio üéâ</h1>
    <div id="contador">Calculando...</div>
  </div>

  <!-- Informa√ß√µes da m√∫sica -->
  <div id="info"></div>

  <!-- Player do YouTube invis√≠vel -->
  <div id="youtube-audio"></div>

  <!-- Container de frases -->
  <div id="phrases-container"></div>

  <script>
    const videoData = [
      { id: "9cuguyBNtXE", title: "M√∫sica 1", duration: "3:21" },
      { id: "ttx-KwDSRgg", title: "M√∫sica 2", duration: "2:45" },
      { id: "QnAN2wdoBbw", title: "M√∫sica 3", duration: "4:05" },
      { id: "YSxS8A1GSso", title: "M√∫sica 4", duration: "3:10" },
      { id: "X9y5ka70Qto", title: "M√∫sica 5", duration: "2:59" }
    ];

    const phrases = [
      "O insucesso √© apenas uma oportunidade para recome√ßar com mais intelig√™ncia.",
      "Pensar √© o trabalho mais dif√≠cil que existe. Talvez por isso t√£o poucos se dediquem a ele.",
      "Se o dinheiro for a sua esperan√ßa de independ√™ncia, voc√™ jamais a ter√°. A √∫nica seguran√ßa verdadeira consiste numa reserva de sabedoria, de experi√™ncia e de compet√™ncia.",
      "Quer voc√™ acredite que consiga fazer uma coisa ou n√£o, voc√™ est√° certo.",
      "N√£o encontro defeitos. Encontro solu√ß√µes. Qualquer um sabe queixar-se.",
      "N√£o encontro defeitos. Encontro solu√ß√µes. Qualquer um sabe queixar-se.",
      "N√£o nos tornamos ricos gra√ßas ao que ganhamos, mas com o que n√£o gastamos.",
      "N√£o √© o empregador quem paga os sal√°rios, mas o cliente.",
      "Corte sua pr√≥pria lenha. Assim, ela aquecer√° voc√™ duas vezes.",
      "A √∫nica hist√≥ria que vale alguma coisa √© a hist√≥ria que fazemos hoje.",
      "N√£o encontre defeitos, encontre solu√ß√µes. Qualquer um sabe queixar-se.",
      "Um idealista √© algu√©m que ajuda outro a ter lucro.",
      "Nada √© dif√≠cil se for dividido em pequenas partes.",
      "Henry ford 1922",
      "O dinheiro √© a coisa mais in√∫til do mundo. N√£o estou interessado nele, apenas nas coisas de que ele √© apenas um s√≠mbolo.",
      "Henry Ford The Forum, abr. 1928.",
      "Se voc√™ pensa que pode, voc√™ pode. E se voc√™ pensa que n√£o pode, voc√™ est√° certo.",
      "Transforme o tempo em arte.",
      "Se eu perguntasse a meus compradores o que eles queriam, teriam dito que era um cavalo mais r√°pido.",
      "Voc√™ n√£o consegue construir uma reputa√ß√£o naquilo que voc√™ pretende fazer.",
      "O dinheiro n√£o modifica o homem, apenas o desmascara.",
      "Nossos fracassos s√£o, √†s vezes, mais frut√≠feros que nossos √™xitos",
      "Se eu tivesse um √∫nico d√≥lar, investiria em propaganda.",
      "Os que renunciam s√£o, em maior n√∫mero, aqueles que mais fracassam.",
      "N√£o encontre um defeito, encontre uma solu√ß√£o."
    ];

    let lastIndex = -1;
    let player;
    const info = document.getElementById("info");
    const controls = document.getElementById("controls");
    const button = document.getElementById("playButton");
    const background = document.getElementById("background");
    const phrasesContainer = document.getElementById("phrases-container");
    let timerInterval;
    let phraseInterval;

    function getRandomIndex() {
      let index;
      do {
        index = Math.floor(Math.random() * videoData.length);
      } while (index === lastIndex);
      lastIndex = index;
      return index;
    }

    function showInfo(text, duration = 3000) {
      info.innerHTML = text;
      info.style.opacity = 1;
      setTimeout(() => {
        info.style.opacity = 0;
      }, duration);
    }

    function updateTime() {
      if (player && player.getCurrentTime) {
        const seconds = Math.floor(player.getCurrentTime());
        const minutes = Math.floor(seconds / 60);
        const sec = String(seconds % 60).padStart(2, '0');
        info.innerHTML = `‚è±Ô∏è ${minutes}:${sec}`;
        info.style.opacity = 1;
      }
    }

    function showRandomPhrase() {
      const phrase = phrases[Math.floor(Math.random() * phrases.length)];
      const el = document.createElement("div");
      el.className = "phrase";
      el.textContent = phrase;

      // Posicionamento aleat√≥rio
      el.style.top = `${Math.random() * 80 + 5}%`;
      el.style.left = `${Math.random() * 80 + 5}%`;

      phrasesContainer.appendChild(el);

      // Remover ap√≥s a anima√ß√£o
      setTimeout(() => {
        el.remove();
      }, 5000);
    }

    function playRandom() {
      const index = getRandomIndex();
      const video = videoData[index];

      if (player) {
        player.loadVideoById(video.id);
      } else {
        player = new YT.Player('youtube-audio', {
          height: '0',
          width: '0',
          videoId: video.id,
          playerVars: {
            autoplay: 1,
            controls: 0,
            modestbranding: 1,
            rel: 0
          },
          events: {
            onReady: (event) => event.target.playVideo(),
            onStateChange: (event) => handleStateChange(event, video)
          }
        });
      }

      if (player && player.loadVideoById) {
        player.loadVideoById(video.id);
      }
    }

    function handleStateChange(event, video) {
      if (event.data === YT.PlayerState.PLAYING) {
        startVisuals();
        showInfo(`üé∂ ${video.title} (${video.duration})`);
        clearInterval(timerInterval);
        timerInterval = setInterval(updateTime, 1000);
        clearInterval(phraseInterval);
        phraseInterval = setInterval(showRandomPhrase, 3000);
      } else if (event.data === YT.PlayerState.ENDED) {
        stopVisuals();
        clearInterval(timerInterval);
        clearInterval(phraseInterval);
      }
    }

    function startVisuals() {
      background.style.opacity = 1;
      controls.classList.remove("center");
      controls.classList.add("top-left");
      button.disabled = true;
    }

    function stopVisuals() {
      background.style.opacity = 0;
      controls.classList.remove("top-left");
      controls.classList.add("center");

      setTimeout(() => {
        button.disabled = false;
        info.innerHTML = "";
        info.style.opacity = 0;
      }, 1000);
    }

    function onYouTubeIframeAPIReady() {
      button.addEventListener("click", playRandom);
    }

    // Carrega API do YouTube
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.body.appendChild(tag);
    window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;
  </script>

</body>
</html>
